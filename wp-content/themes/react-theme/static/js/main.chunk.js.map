{"version":3,"file":"static/js/main.chunk.js","sources":["/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/App.css","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/App.js","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/components/EntryPage/EntryPage.js","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/components/EntryPage/EntryPage.styles.css","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/components/Jumbotron/Jumbotron.js","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/components/Jumbotron/Jumbotron.styles.css","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/components/Navbar/Navbar.js","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/components/Navbar/Navbar.styles.css","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/components/Playlist/Entries/Entries.js","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/components/Playlist/Entries/Entries.styles.css","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/components/Playlist/Playlist.js","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/components/Playlist/Playlist.styles.css","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/components/PublicLibrary.js","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/index.css","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin","import React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport \"./App.css\";\nimport PublicLibrary from './components/PublicLibrary';\nimport EntryPage from './components/EntryPage/EntryPage';\n\nfunction App() {\n    return (\n        <div className='App'>\n            <Route exact path='/' component={PublicLibrary} />\n            <Route exact path='/entry/:entryId' component={EntryPage} />\n        </div>\n    );\n}\n\nexport default App;","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport './EntryPage.styles.css';\n\n//data field\nimport PlaylistsData from '../data/data.json';\n\n\n// for temporary use. Replace with entry link when inserting data\nconst allEntries = []\n\nfor(let i=0; i<PlaylistsData.length; i++) {\n    for(let j=0; j<PlaylistsData[i]['entries'].length; j++){\n        allEntries.push(PlaylistsData[i]['entries'][j]);\n    }\n}\n\nconst getContent = entry => {\n    if (entry.content) \n        return (\n            <div dangerouslySetInnerHTML={{ __html: entry.content.rendered }} />\n        );\n}\n\nconst EntryPage = props => {\n    let id = props.match.params.entryId;\n    const [entry, setEntry] = useState([]);\n    useEffect(() => {\n        async function loadEntry() {\n            const response = await fetch('/wp-json/wp/v2/entry/' + id);\n            if(!response.ok) {\n                console.log(response);\n                return;\n            }\n    \n            const entry = await response.json();\n            setEntry(entry);\n        }\n        \n        loadEntry();\n    }, [])\n\n    // load media\n    let media = \"None\";\n    if (entry.acf_media)\n    {\n        media = entry.acf_media.map((media) =>\n            <img src={media} alt={media}/>\n        );\n    }\n\n    // load tags\n    let tag_lists = \"None\"\n    if (entry.tag_names)\n    {\n        tag_lists = entry.tag_names.map((name) =>\n            <li>#{name}</li>\n        );\n    }\n\n    return(\n        <div className='entry-page'>\n            <div className='entry-container'>\n                <div className='entry-header'>\n                    <h1>{entry.title? entry.title.rendered : \"loading\"}</h1>\n                    <Link className='close-icon' to=\"/\">Close</Link>\n                </div>\n                <hr></hr>\n                {media}\n                <h2>Description</h2>\n                {getContent(entry)}\n\n                <h2>Related Topics</h2>\n                {tag_lists}\n            </div>\n        </div>);\n}\n\nexport default EntryPage;","// extracted by mini-css-extract-plugin","import React from 'react';\nimport './Jumbotron.styles.css';\n\nclass Jumbotron extends React.Component {\n    render() {\n        return(\n            <div className=\"jumbotron jumbotron-fluid\">\n            <div className=\"container\">\n                <h1 className=\"display-4\">Library Database</h1>\n            </div>\n            </div>\n        )\n    }\n}\n\nexport default Jumbotron;","// extracted by mini-css-extract-plugin","import React from 'react';\nimport './Navbar.styles.css';\n\nclass Navbar extends React.Component {\n    render() {\n        return (\n            <nav className=\"navbar navbar-dark\">\n            <a className=\"navbar-brand\" href=\"/\">PATRIMONIO NACIONAL</a>\n            </nav>\n        )\n    }\n}\n\nexport default Navbar;","// extracted by mini-css-extract-plugin","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport './Entries.styles.css';\n\nconst Entries = props => (\n    <div key={props.listId} className='entries'>\n        {props.entries.map(entry =>\n            <div key={entry.id} className='entry'>\n                <img src={entry.thumbnail_url} onClick={() => props.history.push(`/entry/${entry.id}`) }/>\n                <p> {entry.name} </p>\n            </div>)}\n    </div>\n)\n\nexport default withRouter(Entries);","// extracted by mini-css-extract-plugin","import React, { useState, useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Entries from './Entries/Entries';\nimport './Playlist.styles.css';\n\n\nconst Playlist = props => {\n\n    // <Entries entries={playlist.entries}\n\treturn (\n\t\t<div className='public-playlists'>\n        {props.playlists.map(playlist => (\n            <div key={playlist.id} className='public-playlist'>\n                <h1>#{playlist.name}</h1>\n                <Entries listId={playlist.id} entries={playlist.entries}/>\n            </div>\n        ))\n        }\n    \t</div>\n\t);\n};\n\nexport default withRouter(Playlist);","// extracted by mini-css-extract-plugin","import React, { useEffect, useState } from 'react';\nimport Navbar from './Navbar/Navbar';\nimport Jumbotron from './Jumbotron/Jumbotron';\nimport Playlist from './Playlist/Playlist';\n\nclass PublicLibrary extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            playlists: []\n          };\n    }\n\n    componentDidMount() {\n        fetch('/wp-json/wp/v2/categories/')\n        .then(res => res.json())\n        .then((data) => {\n            console.log(data);\n            let playlistInfo = data.map((playlist) => {\n                const {id, count, name} = playlist;\n                return {id, count, name, entries: []};\n            });\n            // console.log(playlistInfo);\n            return playlistInfo;\n        })\n        .then((playlistInfo) => {\n            // get entry per playlist\n            const allRequests = playlistInfo.map(playlist => \n                {\n                    const { id, name } = playlist;     \n                    return fetch('/wp-json/wp/v2/entry?categories=' + id)\n                            .then(res => res.json())\n                            .then(data => { \n                                const entries = data.map( (entry) => {\n                                    // console.log(entry);\n                                    const { id, thumbnail_url, title } = entry;\n                                    const e = {\n                                        id,\n                                        thumbnail_url,\n                                        name: title.rendered,\n                                    };\n                                    return e;\n                                });\n                                return { id, name, entries};\n                            });\n                }            \n            );\n            // wait for all requests to finish\n            return Promise.all(allRequests);\n        })\n        .then((finalInfo) => {\n            console.log(finalInfo);\n            this.setState({ playlists: finalInfo });\n        })\n        .catch(console.log);\n\n        \n    }\n\n    render() {    \n        return (\n            <div className=\"public-library\">\n                <Navbar />\n                <Jumbotron />\n                <Playlist playlists={this.state.playlists} />\n            </div>\n        )\n    }\n}\n\nexport default PublicLibrary;","// extracted by mini-css-extract-plugin","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n"],"mappings":";;;;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;ACfA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;;;;;;;;;;;AC9EA;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAVA;AACA;AAWA;;;;;;;;;;;ACfA;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AARA;AACA;AASA;;;;;;;;;;;ACbA;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;;;;;;;;;;;ACdA;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;;;;;;;;;;;ACtBA;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AA/DA;AACA;AAgEA;;;;;;;;;;;;;;;;;;;;;;ACtEA;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AAEA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;A","sourceRoot":""}