{"version":3,"file":"static/js/main.chunk.js","sources":["/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/App.css","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/App.js","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/components/Button/CreateTour.js","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/components/Button/CreateTour.styles.css","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/components/EntryPage/EntryPage.js","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/components/EntryPage/EntryPage.styles.css","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/components/Jumbotron/Jumbotron.js","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/components/Jumbotron/Jumbotron.styles.css","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/components/Navbar/Navbar.js","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/components/Navbar/Navbar.styles.css","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/components/Playlist/Entries/Entries.js","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/components/Playlist/Entries/Entries.styles.css","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/components/Playlist/Playlist.js","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/components/Playlist/Playlist.styles.css","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/components/PublicLibrary.js","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/index.css","/Users/nouyang/Desktop/museum-live/wp-content/themes/react-theme/react-src/src/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin","import React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport \"./App.css\";\nimport PublicLibrary from './components/PublicLibrary';\nimport EntryPage from './components/EntryPage/EntryPage';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n\nfunction App() {\n    return (\n        <div className='App'>\n            <Route exact path='/' component={PublicLibrary} />\n            <Route exact path='/entry/:entryId' component={EntryPage} />\n            \n            \n        </div>\n    );\n}\n\nexport default App;","import React, { useState } from 'react';\n// or less ideally\nimport { Button, Modal, Form } from 'react-bootstrap';\nimport './CreateTour.styles.css'\n\nasync function createTour(title, setNewTourId) {\n    const data = {\n      \"title\": title,\n      \"status\": \"publish\"\n    };\n\n    const response = await fetch('/wp-json/wp/v2/tour/', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-WP-Nonce': reactInit.nonce\n        },\n        body: JSON.stringify(data)\n    });\n\n    if(!response.ok) {\n        console.log(response);\n        return;\n    }\n\n    const tour = await response.json();\n    setNewTourId(tour.id);\n    console.log(tour);\n}\n\nfunction CreateTour() {\n    const [show, setShow] = useState(false);\n    const [tourTitle, setTourTitle] = useState(\"\");\n    const [isPrivate, setPrivate] = useState(true);\n    const [tourDate, setTourDate] = useState(\"\");\n\n    // TODO: save the new id somewhere else in library/my tour component\n    const [newTourId, setNewTourId] = useState(-1);\n  \n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n    const handleCreate = (title, event) => {\n      // TODO: validate\n      if (!title || title.length === 0)\n      {\n        console.log(\"Empty tour name is not allowed\");\n        return;\n      }\n      // create new \n      createTour(title, setNewTourId);\n      setShow(false);\n    };\n  \n    return (\n      <>\n        <Button variant=\"primary\" onClick={handleShow} id='create-button'>\n          Create a New Tour\n        </Button>\n  \n        <Modal show={show} onHide={handleClose} size=\"lg\" aria-labelledby=\"contained-modal-title-vcenter\" centered>\n          <Modal.Header closeButton>\n            <Modal.Title>Create a New Tour</Modal.Title>\n          </Modal.Header>\n\n          <Modal.Body>\n            <Form>\n\n            <Form.Group>\n                <Form.Label>Tour Name</Form.Label>\n                <Form.Control type=\"text\" onChange={event => setTourTitle(event.target.value)} />\n                {/* <Form.Text className=\"text-muted\">\n                We'll never share your email with anyone else.\n                </Form.Text> */}\n            </Form.Group>\n\n            <Form.Group>\n                <Form.Label>Tour Date</Form.Label>\n                <Form.Control type=\"date\" onChange={event => setTourDate(event.target.value)}/>\n            </Form.Group>\n\n            <Form.Group>\n\n                <Form.Label>Tour Visibility</Form.Label>\n                <Form.Check type='radio' id='default-radio' label='Public' name='tourTypeRadio' />\n                <Form.Check type='radio' label='Private' id='disabled-default-radio' name='tourTypeRadio' />\n\n            </Form.Group>\n            {/* <Button variant=\"primary\" type=\"submit\">\n                Submit\n            </Button> */}\n\n            </Form>\n          </Modal.Body>\n\n          <Modal.Footer>\n            <Button variant=\"primary\" onClick={handleCreate.bind(this, tourTitle)}>\n              Save Changes\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      </>\n    );\n  }\n\n  export default CreateTour;\n\n","// extracted by mini-css-extract-plugin","import React, { useEffect, useState } from 'react';\nimport './EntryPage.styles.css';\n\nimport ImageGallery from 'react-image-gallery';\n\nimport 'react-bnb-gallery/dist/style.css'\nimport Collapsible from 'react-collapsible';\n\n\nconst getContent = entry => {\n    if (entry.content) \n        return (\n            <div dangerouslySetInnerHTML={{ __html: entry.content.rendered }} />\n        );\n}\n\nconst EntryPage = props => {\n    let id = props.match.params.entryId;\n    let time =  new Date().getTime();\n    const [entry, setEntry] = useState([]);\n    useEffect(() => {\n        async function loadEntry() {\n            const response = await fetch('/wp-json/wp/v2/stop/' + id + '?timestamp=' + time);\n            if(!response.ok) {\n                console.log(response);\n                return;\n            }\n    \n            const entry = await response.json();\n            setEntry(entry);\n        }\n        \n        loadEntry();\n    })\n\n\n    // load media\n    let media = \"None\";\n    let Photos = [];\n    if (entry.acf_media)\n    {\n\n\n        Photos = entry.acf_media.map((media) => {\n            let photo = {};\n            photo['original'] = media.full_url;\n            photo['thumbnail'] = media.thumbnail_url;\n            photo['description'] = media.title;\n            return photo;\n        }\n        )\n        \n    }\n\n    // console.log(Photos);\n\n    // load tags\n    let tag_lists = \"None\"\n    if (entry.tag_names)\n    {\n        tag_lists = entry.tag_names.map((name) =>\n            <li>#{name}</li>\n        );\n    }\n    \n    // const [isOpen, setIsOpen] = useState(false);\n\n\n    return(\n        <div className='entry-page'>\n            <a className='close-icon' href=\"/\"><i className=\"fas fa-times\"></i></a>\n            <div className='entry-container'>\n                <div className='entry-header'>\n                    <h1>{entry.title? entry.title.rendered : \"loading\"}</h1>\n                </div>\n                <hr></hr>\n                {/* <div className='gallery-test'>\n                    <button onClick={() => setIsOpen(true)}>View Details</button>\n                    <ReactBnbGallery\n                        show={isOpen}\n                        photos={Photos}\n                        onClose={() => setIsOpen(false)} />\n                    \n                </div> */}\n                <div id=\"image-gallery\">\n                    <ImageGallery items={Photos} />\n                </div>\n                \n                \n                <Collapsible trigger=\"Description\" open=\"true\">\n                    {getContent(entry)}\n                </Collapsible>\n               \n                <Collapsible trigger=\"Related Topics\" open=\"true\">\n                    {tag_lists}\n                </Collapsible>\n\n                \n\n            </div>\n\n            \n        </div>);\n}\n\nexport default EntryPage;\n\n","// extracted by mini-css-extract-plugin","import React from 'react';\nimport './Jumbotron.styles.css';\n\nclass Jumbotron extends React.Component {\n    render() {\n        return(\n            <div className=\"jumbotron jumbotron-fluid\">\n            <div className=\"container\">\n                <h1 className=\"display-4\">Library Database</h1>\n            </div>\n            </div>\n        )\n    }\n}\n\nexport default Jumbotron;","// extracted by mini-css-extract-plugin","import React from 'react';\nimport './Navbar.styles.css';\n\nclass Navbar extends React.Component {\n    render() {\n        return (\n            <nav className=\"navbar navbar-dark navbar-expand-md\">\n            <a className=\"navbar-brand\" href=\"/\">PATRIMONIO NACIONAL</a>\n            <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\">\n                <span class=\"navbar-toggler-icon\"></span>\n            </button>\n            <div className=\"navbar-dark collapse navbar-collapse\" id=\"navbarNav\">\n                <ul className=\"ml-auto navbar-nav\">\n                    <li className=\"nav-item\">\n                        <a className=\"nav-link\" href='/wp-admin'>Access Dashboard</a>\n                    </li>\n                    <li className=\"nav-item\">\n                        <a className=\"nav-link\" href={reactInit.logoutUrl}>Logout</a>\n                    </li>\n                    \n                </ul>     \n            </div>\n            </nav>\n        )\n    }\n}\n\nexport default Navbar;","// extracted by mini-css-extract-plugin","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport './Entries.styles.css';\n\n\nconst Entries = props => (\n    <div key={props.listId} className='entries row'>\n        {props.entries.map(entry =>\n            <div key={entry.id} className='entry'>\n                <img alt='entry' src={entry.thumbnail_url} onClick={() => props.history.push(`/entry/${entry.id}`) }/>\n                <p> {entry.name} </p>\n            </div>)}\n    </div>\n)\n\nexport default withRouter(Entries);","// extracted by mini-css-extract-plugin","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Entries from './Entries/Entries';\nimport './Playlist.styles.css';\n\n\nconst Playlist = props => {\n\n    // <Entries entries={playlist.entries}\n\treturn (\n\t\t<div className='public-playlists'>\n        {props.playlists.map(playlist => (\n            <div key={playlist.id} className='public-playlist'>\n                <h1>#{playlist.name}</h1>\n                <Entries listId={playlist.id} entries={playlist.entries}/>\n            </div>\n        ))\n        }\n    \t</div>\n\t);\n};\n\nexport default withRouter(Playlist);","// extracted by mini-css-extract-plugin","import React from 'react';\nimport Navbar from './Navbar/Navbar';\nimport Jumbotron from './Jumbotron/Jumbotron';\nimport Playlist from './Playlist/Playlist';\nimport CreateTour from './Button/CreateTour';\n\nclass PublicLibrary extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            playlists: []\n          };\n    }\n\n    componentDidMount() {\n        let time =  new Date().getTime();\n        fetch('/wp-json/wp/v2/categories?timestamp=' + time)\n        .then(res => res.json())\n        .then((data) => {\n            console.log(data);\n            let playlistInfo = data.map((playlist) => {\n                const {id, count, name} = playlist;\n                return {id, count, name, entries: []};\n            });\n            // console.log(playlistInfo);\n            return playlistInfo;\n        })\n        .then((playlistInfo) => {\n            // get entry per playlist\n            const allRequests = playlistInfo.map(playlist => \n                {\n                    const { id, name } = playlist;     \n                    return fetch('/wp-json/wp/v2/stop?categories=' + id +'&timestamp=' + time)\n                            .then(res => res.json())\n                            .then(data => { \n                                const entries = data.map( (entry) => {\n                                    // console.log(entry);\n                                    const { id, thumbnail_url, title } = entry;\n                                    const e = {\n                                        id,\n                                        thumbnail_url,\n                                        name: title.rendered,\n                                    };\n                                    return e;\n                                });\n                                return { id, name, entries};\n                            });\n                }            \n            );\n            // wait for all requests to finish\n            return Promise.all(allRequests);\n        })\n        .then((finalInfo) => {\n            console.log(finalInfo);\n            this.setState({ playlists: finalInfo });\n        })\n        .catch(console.log);\n\n        \n    }\n\n    render() {    \n        return (\n            <div className=\"public-library\">\n                <Navbar />\n                <Jumbotron />\n                <CreateTour />\n                <Playlist playlists={this.state.playlists} />\n            </div>\n        )\n    }\n}\n\nexport default PublicLibrary;","// extracted by mini-css-extract-plugin","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n"],"mappings":"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","sourceRoot":""}